{% extends 'derb/base.html' %}

{% block main_block %}
<div class="row">
	<div class="col-md-offset-2 col-md-8">
		<!-- Message Area -->
		{% for message in messages %}
        	{% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
          	<div class="alert alert-success">
            	<strong>Success:</strong> {{ message }}
          	</div>
        	{% endif %}
       		{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
          	<div class="alert alert-danger">
            	<strong>Error:</strong> {{ message }}
          	</div>
        	{% endif %}
      	{% endfor %}
		
		<!-- Panel View -->
		<div class="panel panel-info">
			<div class="panel-heading">
				Unique Selection Question (Admin)
			</div>

			<div class="panel-body">
				<form action="{% url 'report_builder:unique_selection_admin' %}" method="post">
				{% csrf_token %}
					<div class="row">
						<!-- Question Area -->
						<div class="col-md-8">
							<div> {{ form.text}} </div>
							<br />
							<div> {{ form.help }} </div>
							<br />	
					
							<div style="display: none; background-color: #DFDCDC" id="city">
								<p align="center">Select the display fields</p>
								<p style="color: blue">City</p>
								{{ form.city }}
							</div>
				
							<div style="display: none; background-color: #DFDCDC" id="country">
								<p align="center">Select the display fields</p>
								<p style="color: blue">Country</p>
								{{ form.country }}
							</div>
						</div>
			
						<!-- Buttons Area -->
						<div class="col-md-4 question_option_panel text-center" style="background-color: #DFDCDC">
							<div class="btn-group">
								<button onclick="toggle_help_input();" type="button" class="btn btn-primary">
									See/Hide
								</button>
								<button type="button" class="btn btn-danger">
									Delete
								</button>
								<button type="button" class="btn btn-success">
									#
								</button>
							</div>
							<br /><br /><br />
				
							Requirement: {{ form.required }}
							<br /><br /><br /><br />
				
							Catalog: {{ form.catalog }}
							<br /><br /><br /><br />
							<br /><br /><br /><br />
							<br /><br /><br /><br />
							<br /><br /><br /><br />
						</div>
					</div>
							
					<!-- Submit -->
					<div class="row text-right">
						<div class="col-md-12">
							<input class="btn btn-primary" type="submit" value="Save">
						</div>
					</div>
				
				</form>

			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block body_js %}
<script type="application/javascript" >
	function toggle_help_input(){
	  $("#id_help").toggle();
	}

	$(document).ready(function(){
    	$("#id_catalog").change(function(){
    		$("#id_catalog option:selected").each(function(){
    			var sel = $(this).text();
    			var opt = document.getElementById(sel);
    			if (sel=='city'){
    			    opt.style.display = 'block';
    				var doc = document.getElementById('country');
    				doc.style.display = 'none';
    			}
    			if (sel=='country'){
    			    opt.style.display = 'block';
    				var doc = document.getElementById('city');
    				doc.style.display = 'none';
    			}
    		});
    	});
	});	
</script>
{% endblock %}
